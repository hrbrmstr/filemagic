---
output: rmarkdown::github_document
---

`wand` : Retrieve 'Magic' Attributes from Files and Directories

The `libmagic` library must be installed and available to use this. 

- `apt-get install libmagic-dev` on Debian-ish systems
- `brew install libmagic` on macOS

Minimum expected version of `libmagic` is 5.28 but it should work with older versions. Note that some fields in the resultant data frame might not be available with older library versions.

The package should also be pretty straightforward to get working on Windows. Assistance to do that is welcome.

The following functions are implemented:

- `incant` : returns the "magic" metadata of the files in the input vector (as a data frame)
- `magic_wand_file` : provides a full path to the package-provided `magic` file

### Installation

```{r eval=FALSE}
devtools::install_github("hrbrmstr/wand")
```

```{r echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
options(width=120)
```

### Usage

```{r message=FALSE}
library(wand)
library(magrittr)
library(dplyr)

system.file("img", package="wand") %>% 
  list.files(full.names=TRUE) %>% 
  incant() %>% 
  glimpse()

system.file("img", package="wand") %>% 
  list.files(full.names=TRUE) %>% 
  incant(magic_wand_file()) %>% 
  select(description) %>% 
  unlist(use.names=FALSE)

# current verison
packageVersion("wand")

```

### Test Results

```{r message=FALSE}
library(wand)
library(testthat)

date()

test_dir("tests/")
```

